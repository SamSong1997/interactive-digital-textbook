export interface Message {
  id: string;
  role: 'user' | 'assistant';
  content: string;
  timestamp: number;
  sources?: string[];
}

export const quickQuestions = [
  '总结第3章的核心知识点',
  '解释光伏效应的工作原理',
  '比较单晶硅和多晶硅太阳能电池',
  '什么是热电材料？',
  '氢能存储有哪些方式？',
  '锂离子电池的工作原理是什么？',
  '风力发电的核心技术有哪些？',
  '新能源的主要分类有哪些？',
];

export const mockResponses: Record<string, string> = {
  '总结第3章的核心知识点': `第3章"光伏材料与器件"的核心知识点包括：

**1. 光伏基本原理**
- 半导体的能带结构：导带、价带、禁带
- P型和N型半导体的掺杂原理
- pn结的形成和内建电场
- 光生伏特效应的物理过程

**2. 太阳能电池工作原理**
- 光子吸收产生电子-空穴对
- 内建电场实现载流子分离
- 光生电流的形成和收集
- 电池的伏安特性方程

**3. 关键性能参数**
- 开路电压（Voc）
- 短路电流（Isc）
- 填充因子（FF）
- 光电转换效率（η）

**4. 晶体硅太阳能电池**
- 单晶硅：效率高（20-25%），成本较高
- 多晶硅：成本低，效率略低（15-20%）
- 制备工艺：拉单晶、切片、扩散、制电极

这些知识构成了理解光伏发电技术的理论基础。

📚 相关章节：3.2, 3.3, 3.4`,

  '解释光伏效应的工作原理': `光伏效应（Photovoltaic Effect）是太阳能电池的核心工作原理，具体过程如下：

**第一步：光子吸收**
当太阳光照射到半导体材料上时，能量大于禁带宽度（Eg）的光子被吸收。对于硅材料，Eg = 1.12 eV，相当于波长1100 nm以下的光子。

**第二步：电子-空穴对的产生**
被吸收的光子将价带中的电子激发到导带，形成自由电子。同时，价带中留下空穴。这个过程称为本征吸收，是光生载流子的主要来源。

**第三步：载流子分离**
在pn结的内建电场作用下：
- 光生电子被驱向N型区（负极）
- 光生空穴被驱向P型区（正极）

内建电场的方向从N区指向P区，使正负载流子朝相反方向移动，避免了它们的复合。

**第四步：载流子收集**
分离后的载流子被电极收集：
- N区积累电子，形成负极
- P区积累空穴（或失去电子），形成正极
- 两极之间形成电位差（光生电压）

**第五步：电流输出**
当外电路连接时，电子从负极流向负载，再流回正极，形成持续的电流。只要有光照，这个过程就会持续进行。

**关键要点：**
- 光子能量必须 ≥ 禁带宽度
- pn结的内建电场是载流子分离的关键
- 载流子复合会降低效率
- 光强越大，光生电流越大

📚 相关章节：3.2.5`,

  '比较单晶硅和多晶硅太阳能电池': `单晶硅和多晶硅是两种主要的晶体硅太阳能电池类型，各有特点：

**单晶硅太阳能电池**

优点：
- 转换效率高：实验室最高达26.7%，商业化产品20-25%
- 稳定性好：使用寿命长，性能衰减慢
- 弱光性能优秀：阴天也能有较好发电效果
- 外观统一：呈深黑色或深蓝色，美观

缺点：
- 制造成本高：拉单晶工艺复杂，能耗大
- 硅材料利用率低：切割损耗大（约50%）
- 边角料难以利用：圆形硅棒切方形电池有浪费

**多晶硅太阳能电池**

优点：
- 制造成本低：铸锭工艺简单，能耗较低
- 硅材料利用率高：可以利用单晶制造的边角料
- 适合大规模生产：工艺成熟，产能高

缺点：
- 转换效率略低：商业化产品15-20%
- 晶界效应：多晶结构导致载流子复合增加
- 弱光性能较差
- 外观不均匀：可见明显的晶粒和晶界

**成本与性能权衡**

| 指标 | 单晶硅 | 多晶硅 |
|------|--------|--------|
| 效率 | 20-25% | 15-20% |
| 成本 | 较高 | 较低 |
| 寿命 | 25-30年 | 20-25年 |
| 弱光性能 | 优秀 | 一般 |

**选择建议：**
- 空间有限、追求高效：选单晶硅
- 成本敏感、空间充足：选多晶硅
- 目前市场趋势：单晶硅份额逐渐增加，但多晶硅仍有市场

📚 相关章节：3.4`,

  '什么是热电材料？': `热电材料是一类能够实现热能和电能直接相互转换的功能材料，具有独特的物理特性。

**热电效应的三种基本形式：**

1. **塞贝克效应（Seebeck Effect）**
   - 温差产生电压
   - 用于温差发电
   - 塞贝克系数 S = ΔV/ΔT

2. **帕尔贴效应（Peltier Effect）**
   - 电流产生温差
   - 用于制冷和加热
   - 帕尔贴系数 Π = Q/I

3. **汤姆逊效应（Thomson Effect）**
   - 电流和温度梯度同时存在的效应

**热电材料的关键性能参数：**

**热电优值 ZT = S²σT/κ**

其中：
- S：塞贝克系数（μV/K）
- σ：电导率（S/m）
- κ：热导率（W/m·K）
- T：绝对温度（K）

理想热电材料应该：
- 高塞贝克系数（大温差产生大电压）
- 高电导率（低电阻损耗）
- 低热导率（维持温差）

**常见热电材料类型：**

1. **Bi₂Te₃基材料**
   - 近室温最佳材料（ZT ≈ 1）
   - 用于温差发电和制冷

2. **PbTe基材料**
   - 中温区优秀材料（400-800 K）
   - 用于汽车尾气发电

3. **硅锗合金**
   - 高温材料（> 800 K）
   - 用于空间探测器

4. **氧化物热电材料**
   - 环境友好、高温稳定
   - 发展中的新型材料

**应用场景：**

- 温差发电：工业废热回收、汽车尾气发电
- 热电制冷：半导体制冷器、精密温控
- 传感器：温度传感、热流传感
- 空间探测：深空探测器电源

**优势与挑战：**

优势：
- 无运动部件，可靠性高
- 安静无噪音
- 尺寸可灵活设计
- 寿命长

挑战：
- 转换效率相对较低（< 10%）
- 材料成本较高
- ZT值需要进一步提升

📚 相关章节：第6章`,

  '氢能存储有哪些方式？': `氢能存储是氢能应用的关键环节，目前主要有三大类存储方式：

**1. 高压气态储氢**

**原理：** 将氢气压缩到高压容器中

**技术特点：**
- 压力等级：35 MPa（350 bar）或 70 MPa（700 bar）
- 储氢密度：约40-50 g/L（70 MPa）
- 充放速度：快速充氢（3-5分钟）
- 技术成熟度：最成熟，已商业化

**优点：**
- 技术成熟，应用广泛
- 充放速度快
- 成本相对较低

**缺点：**
- 储氢密度有限
- 高压容器重量大
- 安全性要求高
- 压缩能耗大（约占储氢量的15%）

**应用：** 氢燃料电池汽车、加氢站

---

**2. 低温液态储氢**

**原理：** 将氢气冷却到-253℃以下液化

**技术特点：**
- 储氢密度：约71 g/L（是高压气态的1.5倍）
- 液化能耗：约占储氢量的30-40%
- 蒸发损失：每天约1-5%（"氢沸腾"）

**优点：**
- 储氢密度高
- 适合大规模、长距离运输
- 纯度高

**缺点：**
- 液化能耗大
- 绝热要求高
- 持续蒸发损失
- 成本高

**应用：** 航天领域（火箭燃料）、大规模运输

---

**3. 固态储氢（材料储氢）**

**原理：** 利用材料的物理吸附或化学反应储存氢

**主要类型：**

**a) 金属氢化物储氢**
- 材料：镁基（MgH₂）、稀土系（LaNi₅）
- 储氢量：1-7 wt%
- 优点：安全、储氢密度高
- 缺点：吸放氢温度高、动力学慢

**b) 配位氢化物储氢**
- 材料：NaAlH₄、LiBH₄
- 储氢量：可达10 wt%以上
- 缺点：可逆性差、成本高

**c) 碳基材料储氢**
- 材料：活性炭、碳纳米管、石墨烯
- 吸附机理：物理吸附
- 储氢量：常温常压下较低

**d) MOFs金属有机框架**
- 比表面积极大（> 5000 m²/g）
- 低温下吸附量大
- 研究热点，但远未商业化

**e) 液态有机储氢（LOHC）**
- 材料：甲基环己烷、十氢萘等
- 常温常压液态，运输方便
- 需要催化加氢/脱氢

**优点：**
- 安全性好（低压或常压）
- 储氢密度潜力大
- 运输方便（部分类型）

**缺点：**
- 技术不成熟
- 吸放氢动力学差
- 需要热管理
- 成本高

**应用：** 固定式储能、便携式电源

---

**三种方式对比**

| 特性 | 高压气态 | 低温液态 | 固态储氢 |
|------|----------|----------|----------|
| 技术成熟度 | 高 | 中 | 低 |
| 储氢密度 | 中 | 高 | 高（潜力）|
| 安全性 | 中 | 中 | 高 |
| 成本 | 低 | 高 | 高 |
| 能耗 | 中 | 高 | 低-中 |

**未来发展方向：**
- 高压储氢：提高压力（70 MPa → 100 MPa）
- 低温储氢：减少蒸发损失
- 固态储氢：重点发展方向，突破材料和工艺瓶颈

📚 相关章节：第9章`,

  '锂离子电池的工作原理是什么？': `锂离子电池是一种"摇椅式"（Rocking Chair）电池，锂离子在正负极之间往返嵌入和脱出，就像在摇椅上来回摇摆。

**基本结构组成：**

1. **正极**：锂过渡金属氧化物
   - LiCoO₂（钴酸锂）
   - LiFePO₄（磷酸铁锂）
   - LiNi₁₋ₓ₋ᵧCoₓMnᵧO₂（三元材料NCM）

2. **负极**：主要是碳材料
   - 石墨（主流，容量372 mAh/g）
   - 硅基材料（研发中，容量4200 mAh/g）

3. **电解液**：锂盐溶液
   - LiPF₆溶解在有机溶剂中
   - 提供锂离子传输通道

4. **隔膜**：多孔聚烯烃薄膜
   - 隔离正负极，防止短路
   - 允许锂离子通过

---

**工作原理详解：**

**放电过程（电池供电）：**

1. **负极反应（氧化反应）：**

   LixC₆ → xLi⁺ + xe⁻ + C₆

   - 锂原子失去电子，变成锂离子
   - 锂离子从负极脱出，进入电解液

2. **锂离子迁移：**
   - Li⁺通过电解液迁移到正极
   - 隔膜阻止电子直接通过

3. **正极反应（还原反应）：**

   Li₁₋ₓCoO₂ + xLi⁺ + xe⁻ → LiCoO₂
   - 锂离子嵌入正极材料晶格
   - 与从外电路来的电子结合

4. **外电路：**
   - 电子从负极流向正极
   - 通过负载做功，产生电流

**充电过程（电池充电）：**

过程完全相反：
- 外部电源驱动电子从正极流向负极
- 锂离子从正极脱出，在负极嵌入
- 电能转化为化学能储存

**充电反应：**

正极：LiCoO₂ → Li₁₋ₓCoO₂ + xLi⁺ + xe⁻
负极：C₆ + xLi⁺ + xe⁻ → LixC₆

---

**关键概念：**

**1. 嵌入/脱出机制**
- 锂离子可逆地嵌入和脱出正负极材料
- 不发生材料结构的大幅变化
- 保证电池可充电使用

**2. 电势差**
- 正负极电位差决定电池电压
- LiCoO₂/石墨体系：约3.7V
- LiFePO₄/石墨体系：约3.2V

**3. 容量**
- 取决于正负极材料能嵌入的锂量
- 单位：mAh（毫安时）或 mAh/g（比容量）

**4. SEI膜（固体电解质界面膜）**
- 首次充电时在负极表面形成
- 防止电解液进一步分解
- 影响电池循环寿命和安全性

---

**充放电特性：**

**电压曲线：**
- 放电时电压逐渐下降
- 不同材料有不同的电压平台
- 电压过低或过高都会损伤电池

**循环性能：**
- 理想情况下可充放电数千次
- 实际受材料稳定性、副反应等影响
- 容量会逐渐衰减

**影响因素：**
- 温度：低温容量下降，高温加速老化
- 倍率：大电流充放电会降低容量和寿命
- 电压范围：过充过放损伤电池

---

**为什么叫"锂离子"而不是"锂电池"？**

- 锂离子电池：锂以离子形式（Li⁺）存在
- 锂电池：锂以金属形式存在，不可充电
- 锂离子电池更安全，可以反复充放电

**优势：**
- 能量密度高（150-250 Wh/kg）
- 循环寿命长（1000-2000次）
- 自放电率低（< 5%/月）
- 无记忆效应

**挑战：**
- 成本较高
- 低温性能差
- 存在热失控风险

📚 相关章节：11.1`,

  '风力发电的核心技术有哪些？': `风力发电的核心技术涉及空气动力学、机械工程、电气控制等多个领域，主要包括以下几个方面：

**1. 变桨距调节技术**

**功能：** 通过改变叶片与风向的角度（桨距角）来调节风能捕获

**工作原理：**
- 低风速：减小桨距角，增加升力，最大化捕获风能
- 高风速：增大桨距角，减少风能捕获，防止超载
- 极端风况：将叶片转至"顺桨"位置（90°），停机保护

**技术优势：**
- 提高低风速发电量
- 限制额定风速以上功率
- 提高电能质量
- 降低机械载荷

**控制方式：**
- 独立变桨：每个叶片单独控制，补偿不均匀风场
- 统一变桨：三个叶片同步调节

---

**2. 风电机组控制技术**

**多层级控制系统：**

**主控系统：**
- 监测风速、风向、功率等参数
- 执行启动、停机、偏航等指令
- 故障诊断和保护

**变桨控制：**
- 根据风速和功率需求调节桨距角
- 响应时间：< 1秒

**偏航控制：**
- 使风轮始终正对风向
- 最大化风能捕获
- 减少侧向载荷

**控制策略：**

**最大功率点跟踪（MPPT）：**
- 低于额定风速时，调节转速和桨距角
- 使风能利用系数达到最大值（Cp,max ≈ 0.45）

**恒功率控制：**
- 高于额定风速时，限制输出功率
- 保护发电机和传动系统

---

**3. 风电变流器技术**

**功能：** 将发电机输出的变频变压电能转换为符合电网要求的电能

**拓扑结构：**

**双馈型（DFIG）：**

发电机定子 → 直接并网
发电机转子 → 变流器 → 电网
- 变流器容量仅为额定功率的30%
- 成本低，效率高
- 主流技术方案

**全功率型（直驱、半直驱）：**

发电机 → 整流器 → 直流母线 → 逆变器 → 电网
- 变流器处理全部功率
- 发电机与电网完全解耦
- 电能质量好，低电压穿越能力强

**关键技术：**

**1. 功率解耦控制：**
- 有功功率和无功功率独立调节
- 满足电网调度需求

**2. 低电压穿越（LVRT）：**
- 电网故障时不脱网
- 提供无功支撑
- 保障电网稳定

**3. 谐波抑制：**
- 降低输出电流的谐波含量
- 提高电能质量

---

**4. 传动系统技术**

**齿轮箱型（双馈）：**
- 将叶轮低速（10-20 rpm）增速到发电机高速（1500 rpm）
- 齿轮比：约1:100
- 挑战：噪音、磨损、维护

**直驱型（无齿轮箱）：**
- 发电机直接连接叶轮
- 使用多极永磁发电机（> 100极）
- 优点：效率高、可靠性好、维护少
- 缺点：发电机体积大、成本高

---

**5. 叶片设计技术**

**气动设计：**
- 翼型选择和优化
- 最大升阻比设计
- 失速特性控制

**结构设计：**
- 复合材料应用（玻璃纤维、碳纤维）
- 减重与强度平衡
- 抗疲劳设计（25年寿命）

**降噪设计：**
- 后缘锯齿
- 涡流发生器
- 降低噪音至45 dB以下

---

**6. 状态监测与故障诊断**

**监测对象：**
- 振动监测：齿轮箱、轴承
- 温度监测：绕组、轴承、油温
- 电气监测：电流、电压、功率
- 风况监测：风速、风向、湍流

**故障预警：**
- 基于机器学习的异常检测
- 剩余寿命预测
- 优化维护策略

---

**7. 大型化技术**

**趋势：** 单机容量从MW级向10+ MW发展

**挑战：**
- 叶片长度超过100米，运输和安装困难
- 塔架高度超过150米，承载和抗风要求高
- 系统集成复杂度增加

**创新方案：**
- 分段式叶片设计
- 海上漂浮式风机
- 智能控制算法

---

**未来发展方向：**

1. **数字化与智能化**
   - 大数据分析优化运维
   - 人工智能控制算法
   - 数字孪生技术

2. **海上风电**
   - 大型化（12-15 MW）
   - 漂浮式平台
   - 远海输电技术

3. **与储能结合**
   - 平滑功率波动
   - 提高电网友好性

这些技术的不断进步，使风力发电成为最具竞争力的可再生能源技术之一。

📚 相关章节：2.3`,

  '新能源的主要分类有哪些？': `新能源可以从不同角度进行分类，以下是几种主要的分类方法：

**按能源形成和来源分类：**

**一次能源（直接从自然界获取）：**
- 太阳能
- 风能
- 水能
- 地热能
- 海洋能（潮汐能、波浪能、温差能）
- 生物质能

**二次能源（需要转换获得）：**
- 氢能
- 电能（来自各种一次能源）

---

**按能源性质分类：**

**可再生能源：**
- 太阳能：光伏发电、光热发电
- 风能：陆上风电、海上风电
- 水能：水力发电、抽水蓄能
- 生物质能：生物质发电、生物燃料
- 地热能：地热发电、地热供暖
- 海洋能：潮汐能、波浪能、海流能

**清洁能源：**
- 核能：核裂变（铀、钚）、核聚变（氘、氚）

---

**按技术成熟度分类：**

**成熟技术：**
- 水力发电
- 风力发电
- 太阳能光伏
- 生物质能

**发展中技术：**
- 太阳能光热发电
- 海洋能发电
- 地热发电
- 氢能与燃料电池

**前沿技术：**
- 核聚变
- 人工光合作用
- 空间太阳能

---

**详细介绍各类新能源：**

**1. 太阳能**

**特点：**
- 资源量最大（地球接收太阳辐射功率：1.73×10¹⁷ W）
- 清洁无污染
- 分布广泛但不均匀

**利用方式：**
- 光伏发电：直接转换为电能
- 光热发电：先转换为热能再发电
- 太阳能热水器
- 太阳能建筑

**发展现状：** 光伏装机全球第一，成本快速下降

---

**2. 风能**

**特点：**
- 清洁无污染
- 资源丰富（全球潜力超过100 TW）
- 间歇性、波动性

**利用方式：**
- 陆上风电
- 海上风电（发展迅速）
- 分散式小型风机

**发展现状：** 增长最快的可再生能源之一

---

**3. 水能**

**特点：**
- 技术最成熟
- 可调节性好
- 受地理条件限制

**利用方式：**
- 大型水电站
- 小水电
- 抽水蓄能（储能）

**发展现状：** 占可再生能源发电量最大比例

---

**4. 生物质能**

**特点：**
- 可再生碳源
- 分布广泛
- 多种利用途径

**来源：**
- 农作物秸秆
- 林业废弃物
- 畜禽粪便
- 城市生活垃圾
- 能源作物

**利用方式：**
- 直接燃烧发电
- 生物质气化
- 生物燃料（乙醇、生物柴油）
- 沼气发酵

---

**5. 地热能**

**特点：**
- 储量巨大（地球内部总热量：12.6×10²⁴ MJ）
- 稳定可靠
- 分布不均

**利用方式：**
- 地热发电（高温地热）
- 地热供暖
- 地源热泵（浅层地热）

**发展现状：** 主要在地热资源丰富地区应用

---

**6. 海洋能**

**类型：**
- 潮汐能：利用潮汐的势能
- 波浪能：利用海浪的动能
- 海流能：利用洋流动能
- 温差能：利用海洋表层和深层温差
- 盐差能：利用海水和淡水渗透压差

**特点：**
- 资源量大（理论潜力：75 TW）
- 技术难度大
- 成本高

**发展现状：** 处于示范阶段

---

**7. 氢能**

**特点：**
- 清洁：燃烧产物只有水
- 高能量密度：142 MJ/kg
- 储能载体：可储存可运输

**制取方式：**
- 电解水制氢（绿氢）
- 天然气重整（灰氢）
- 煤气化制氢（黑氢）
- 生物质制氢

**应用：**
- 燃料电池汽车
- 氢能发电
- 工业原料

---

**8. 核能**

**核裂变：**
- 技术成熟，已大规模商用
- 三代核电技术（AP1000、EPR等）
- 四代核电（快堆、高温气冷堆）

**核聚变：**
- 清洁、安全、资源无限
- 技术难度极大，尚未商业化
- 国际热核聚变实验堆（ITER）

---

**各类能源比较：**

| 能源类型 | 技术成熟度 | 成本 | 稳定性 | 环境影响 |
|----------|------------|------|--------|----------|
| 太阳能 | 高 | 中 | 波动 | 极小 |
| 风能 | 高 | 低 | 波动 | 极小 |
| 水能 | 高 | 低 | 稳定 | 有生态影响 |
| 生物质能 | 中 | 中 | 稳定 | 有排放 |
| 地热能 | 中 | 中-高 | 稳定 | 小 |
| 海洋能 | 低 | 高 | 波动 | 小 |
| 氢能 | 中 | 高 | 稳定 | 看制取方式 |
| 核能 | 高 | 中 | 稳定 | 核废料 |

---

**未来发展趋势：**

1. **多能互补**：不同能源协同发展
2. **储能配套**：解决波动性问题
3. **智能电网**：优化能源调度
4. **绿氢经济**：长期储能和工业脱碳
5. **分布式能源**：就近生产消费

新能源的多样化发展是实现碳中和目标的关键路径。

📚 相关章节：第1章、第13章`,
};

export function getAIMockResponse(question: string): string {
  return mockResponses[question] || `这是关于"${question}"的回答。

基于《新能源材料与装备》教材内容，我为您整理了相关知识点。这个问题涉及到教材的多个章节，建议您可以结合具体章节进行深入学习。

如果您想了解更详细的内容，可以：
1. 点击左侧目录直接跳转到相关章节阅读
2. 使用导读功能查看知识结构图
3. 通过音频交互功能听取章节讲解

您还想了解什么内容吗？`;
}
