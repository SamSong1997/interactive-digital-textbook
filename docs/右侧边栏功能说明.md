# 流式阅读右侧边栏功能说明

## 功能概述

在流式阅读页面的右侧添加了一个独立的交互区域，包含章节测试题目和相关文库资源链接。

## 功能特性

### 1. 章节测试（Quiz）

**设计特点：**
- 每章至少 5 道测试题
- 卡片式展开/收起设计
- 单选题形式，即时反馈
- 答案检查功能，显示正确/错误

**交互流程：**
1. 点击题目卡片展开
2. 选择答案选项
3. 点击"检查答案"按钮
4. 显示答题结果（正确显示绿色，错误显示红色并提示正确答案）

**视觉设计：**
- 使用品牌橙色作为主题色
- 正确答案用绿色高亮
- 错误答案用浅红色提示
- 选中状态用浅灰色背景

### 2. 相关文库资源

**设计特点：**
- 简洁的链接卡片形式
- 统一链接到 http://www.qikan.com.cn/
- 每个资源包含标题和简短描述
- 外部链接图标提示

**视觉设计：**
- 使用品牌蓝色作为主题色
- 悬停时显示阴影效果
- 外部链接图标有动画效果

## 布局设计

### 整体布局
```
┌─────────────┬──────────────────────┬─────────────┐
│             │                      │             │
│  左侧目录   │     主内容区域       │  右侧边栏   │
│  (320px)    │     (flex-1)         │  (320px)    │
│             │                      │             │
└─────────────┴──────────────────────┴─────────────┘
```

### 右侧边栏结构
```
┌─────────────────────┐
│  章节测试           │
│  ┌───────────────┐  │
│  │ 题目1 (可展开) │  │
│  ├───────────────┤  │
│  │ 题目2 (可展开) │  │
│  ├───────────────┤  │
│  │ 题目3 (可展开) │  │
│  └───────────────┘  │
├─────────────────────┤
│  相关文库           │
│  ┌───────────────┐  │
│  │ 资源链接1     │  │
│  ├───────────────┤  │
│  │ 资源链接2     │  │
│  ├───────────────┤  │
│  │ 资源链接3     │  │
│  └───────────────┘  │
└─────────────────────┘
```

## 已实现章节

### 第一章内容

**1.1 什么是能源？**
- 5道测试题（能源定义、来源、分类、能量守恒、核能方程）
- 3个文库资源链接

**1.2 能源的前世**
- 5道测试题（钻木取火、农用动力、三峡水电站、风能储量、生物质能）
- 3个文库资源链接

**1.3 能源的今生**
- 5道测试题（煤炭形成、储量分布、石油成分、天然气优势、能源峰值）
- 3个文库资源链接

**1.4 能源的未来**
- 5道测试题（储采比、中国煤炭、绿氢、可再生能源、能源革命）
- 3个文库资源链接

## 技术实现

### 组件结构

**SidebarResources 组件** (`components/sidebar-resources.tsx`)
- 接收 `quizQuestions` 和 `resourceLinks` 作为 props
- 管理题目展开/收起状态
- 管理答案选择和结果显示状态

**数据文件** (`lib/chapter-quiz-data.ts`)
- 定义 `QuizQuestion` 和 `ResourceLink` 接口
- 导出 `chapter1Resources` 对象，包含所有第一章的测试和资源

**主页面** (`app/page.tsx`)
- 根据当前选中的章节ID获取对应的测试和资源
- 使用 Flexbox 布局实现三栏结构
- 右侧边栏固定宽度 320px，可独立滚动

### 样式系统

使用 Anthropic 品牌色系：
- 橙色 (`--color-orange`): 测试题主题色
- 蓝色 (`--color-blue`): 文库资源主题色
- 绿色 (`--color-green`): 正确答案提示
- 浅灰色 (`--color-light-gray`): 边框和背景

### 响应式设计

- 右侧边栏宽度固定 320px
- 主内容区域自适应剩余空间
- 独立滚动条，互不影响

## 扩展建议

1. **添加更多章节**：按照相同格式在 `chapter-quiz-data.ts` 中添加其他章节的数据

2. **题目类型扩展**：
   - 多选题
   - 判断题
   - 填空题
   - 简答题

3. **进度追踪**：
   - 记录答题历史
   - 显示正确率统计
   - 章节完成度标记

4. **资源分类**：
   - 按类型分类（论文、视频、课件等）
   - 添加资源预览
   - 收藏功能

5. **社交功能**：
   - 分享答题结果
   - 讨论区
   - 学习笔记

## 使用说明

1. 打开流式阅读页面
2. 选择第一章的任意小节（1.1、1.2、1.3、1.4）
3. 右侧自动显示该小节的测试题目和资源链接
4. 点击题目展开，选择答案，点击"检查答案"查看结果
5. 点击资源链接在新标签页打开相关文库
